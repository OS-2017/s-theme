!function(t){"function"==typeof define&&define.amd?define(["shoestring"],t):"object"==typeof module&&module.exports?module.exports=t():t()}(function(){function t(e,n){var a,s=typeof e,i=[];if(!e)return new l(i);if(e.call)return t.ready(e);if(e.constructor===l&&!n)return e;if("string"===s&&0===e.indexOf("<")){var c=o.createElement("div");return c.innerHTML=e,t(c).children().each(function(){c.removeChild(this)})}return"string"===s?n?t(n).find(e):(a=o.querySelectorAll(e),new l(a,e)):"[object Array]"===Object.prototype.toString.call(s)||r.NodeList&&e instanceof r.NodeList?new l(e,e):e.constructor===Array?new l(e,e):new l([e],e)}function e(t,e){var n=!1;return t.each(function(){for(var t=0;t<e.length;)this===e[t]&&(n=!0),t++}),n}function n(t,e){t.shoestringData||(t.shoestringData={}),t.shoestringData.events||(t.shoestringData.events={}),t.shoestringData.loop||(t.shoestringData.loop={}),t.shoestringData.events[e]||(t.shoestringData.events[e]=[])}function a(t,e,n){var a={};a.isCustomEvent=n.isCustomEvent,a.callback=n.callfunc,a.originalCallback=n.originalCallback,a.namespace=n.namespace,t.shoestringData.events[e].push(a),n.customEventLoop&&(t.shoestringData.loop[e]=n.customEventLoop)}function s(t,e,n){var a=this.shoestringData.events[t];if(a&&a.length){var s,i,r=[];for(s=0,i=a.length;s<i;s++)e&&e!==a[s].namespace||void 0!==n&&n!==a[s].originalCallback||(this.removeEventListener(t,a[s].callback,!1),r.push(s));for(s=0,i=r.length;s<i;s++)this.shoestringData.events[t].splice(s,1)}}function i(t,e){for(var n in this.shoestringData.events)s.call(this,n,t,e)}var r="undefined"!=typeof window?window:this,o=r.document,l=function(e,n){this.length=0,this.selector=n,t.merge(this,e)};l.prototype.reverse=[].reverse,t.fn=l.prototype,t.Shoestring=l,t.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.merge=function(t,e){var n,a,s;for(n=+e.length,a=0,s=t.length;a<n;a++)t[s++]=e[a];return t.length=s,t},r.shoestring=t,t.fn.each=function(e){return t.each(this,e)},t.each=function(t,e){for(var n,a=0,s=t.length;a<s&&(n=e.call(t[a],a,t[a]),n!==!1);a++);return t},t.inArray=function(t,e){for(var n=-1,a=0,s=e.length;a<s;a++)e.hasOwnProperty(a)&&e[a]===t&&(n=a);return n},t.ready=function(t){return c&&t?t.call(o):t?h.push(t):u(),[o]},t.fn.ready=function(e){return t.ready(e),this};var c=!1,h=[],u=function(){if(!c){for(;h.length;)h.shift().call(o);c=!0}};(o.attachEvent?"complete"===o.readyState:"loading"!==o.readyState)?u():(o.addEventListener("DOMContentLoaded",u,!1),o.addEventListener("readystatechange",u,!1),r.addEventListener("load",u,!1)),t.fn.is=function(n){var a,s,i=!1,r=this;return"string"!=typeof n?(s=n.length&&n[0]?n:[n],e(this,s)):(a=this.parent(),a.length||(a=t(o)),a.each(function(t,a){var s;s=a.querySelectorAll(n),i=e(r,s)}),i)},t.fn.data=function(t,e){return void 0===t?this[0]?this[0].shoestringData||{}:void 0:void 0!==e?this.each(function(){this.shoestringData||(this.shoestringData={}),this.shoestringData[t]=e}):this[0]&&this[0].shoestringData?this[0].shoestringData[t]:void 0},t.fn.removeData=function(t){return this.each(function(){void 0!==t&&this.shoestringData?(this.shoestringData[t]=void 0,delete this.shoestringData[t]):this[0].shoestringData={}})},r.$=t,t.fn.addClass=function(t){var e=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t=0,n=e.length;t<n;t++)void 0===this.className||""!==this.className&&this.className.match(new RegExp("(^|\\s)"+e[t]+"($|\\s)"))||(this.className+=" "+e[t])})},t.fn.add=function(e){var n=[];return this.each(function(){n.push(this)}),t(e).each(function(){n.push(this)}),t(n)},t.fn.append=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,a=e.length;n<a;n++)this.appendChild(t>0?e[n].cloneNode(!0):e[n])})},t.fn.appendTo=function(e){return this.each(function(){t(e).append(this)})},t.fn.attr=function(t,e){var n="string"==typeof t;return void 0===e&&n?this[0]?this[0].getAttribute(t):void 0:this.each(function(){if(n)this.setAttribute(t,e);else for(var a in t)t.hasOwnProperty(a)&&this.setAttribute(a,t[a])})},t.fn.before=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,a=e.length;n<a;n++)this.parentNode.insertBefore(t>0?e[n].cloneNode(!0):e[n],this)})},t.fn.children=function(){var e,n,a=[];return this.each(function(){for(e=this.children,n=-1;n++<e.length-1;)t.inArray(e[n],a)===-1&&a.push(e[n])}),t(a)},t.fn.closest=function(e){var n=[];return e?(this.each(function(){var a,s=t(a=this);if(s.is(e))return void n.push(this);for(;a.parentElement;){if(t(a.parentElement).is(e)){n.push(a.parentElement);break}a=a.parentElement}}),t(n)):t(n)},t.cssExceptions={"float":["cssFloat"]},function(){function e(t){return t.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})}function n(t,e){return r.getComputedStyle(t,null).getPropertyValue(e)}var a=t.cssExceptions,s=["","-webkit-","-ms-","-moz-","-o-","-khtml-"];t._getStyle=function(t,i){var r,o,l,c;if(a[i])for(l=0,c=a[i].length;l<c;l++)if(o=n(t,a[i][l]))return o;for(l=0,c=s.length;l<c;l++)if(r=e(s[l]+i),o=n(t,r),r!==i&&(o=o||n(t,i)),s[l]&&(o=o||n(t,s[l]+i)),o)return o}}(),function(){function e(t){return t.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})}var n=t.cssExceptions;t._setStyle=function(t,a,s){var i=e(a);if(t.style[a]=s,i!==a&&(t.style[i]=s),n[a])for(var r=0,o=n[a].length;r<o;r++)t.style[n[a][r]]=s}}(),t.fn.css=function(e,n){if(this[0])return"object"==typeof e?this.each(function(){for(var n in e)e.hasOwnProperty(n)&&t._setStyle(this,n,e[n])}):void 0!==n?this.each(function(){t._setStyle(this,e,n)}):t._getStyle(this[0],e)},t.fn.eq=function(e){return t(this[e]?this[e]:[])},t.fn.filter=function(e){var n=[];return this.each(function(a){var s;if("function"==typeof e)e.call(this,a)!==!1&&n.push(this);else{if(this.parentNode)s=t(e,this.parentNode);else{var i=t(o.createDocumentFragment());i[0].appendChild(this),s=t(e,i)}t.inArray(this,s)>-1&&n.push(this)}}),t(n)},t.fn.find=function(e){var n,a=[];return this.each(function(){n=this.querySelectorAll(e);for(var t=0,s=n.length;t<s;t++)a=a.concat(n[t])}),t(a)},t.fn.first=function(){return this.eq(0)},t.fn.get=function(t){if(void 0===t){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e}return this[t]};var d=function(t){if("string"==typeof t||"number"==typeof t)return this.each(function(){this.innerHTML=""+t});var e="";if("undefined"!=typeof t.length)for(var n=0,a=t.length;n<a;n++)e+=t[n].outerHTML;else e=t.outerHTML;return this.each(function(){this.innerHTML=e})};t.fn.html=function(t){if("undefined"!=typeof t)return d.call(this,t);var e="";return this.each(function(){e+=this.innerHTML}),e},function(){function e(t,e){var n,a,s;for(n=a=0;n<t.length;n++){if(s=t.item?t.item(n):t[n],e(s))return a;1===s.nodeType&&a++}return-1}t.fn.index=function(n){var a,s;return a=this,void 0===n?(s=(this[0]&&this[0].parentNode||o.documentElement).childNodes,e(s,function(t){return a[0]===t})):e(a,function(e){return e===t(n,e.parentNode)[0]})}}(),t.fn.insertBefore=function(e){return this.each(function(){t(e).before(this)})},t.fn.last=function(){return this.eq(this.length-1)},t.fn.next=function(){var e=[];return this.each(function(){var n,a,s;n=t(this.parentNode)[0].childNodes;for(var i=0;i<n.length;i++){if(a=n.item(i),s&&1===a.nodeType){e.push(a);break}a===this&&(s=!0)}}),t(e)},t.fn.not=function(e){var n=[];return this.each(function(){var a=t(e,this.parentNode);t.inArray(this,a)===-1&&n.push(this)}),t(n)},t.fn.parent=function(){var e,n=[];return this.each(function(){e=this===o.documentElement?o:this.parentNode,e&&11!==e.nodeType&&n.push(e)}),t(n)},t.fn.prepend=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,a=e.length;n<a;n++){var s=t>0?e[n].cloneNode(!0):e[n];this.firstChild?this.insertBefore(s,this.firstChild):this.appendChild(s)}})},t.fn.prev=function(){var e=[];return this.each(function(){var n,a,s;n=t(this.parentNode)[0].childNodes;for(var i=n.length-1;i>=0;i--){if(a=n.item(i),s&&1===a.nodeType){e.push(a);break}a===this&&(s=!0)}}),t(e)},t.fn.prevAll=function(){var e=[];return this.each(function(){for(var n=t(this).prev();n.length;)e.push(n[0]),n=n.prev()}),t(e)},t.fn.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)})},t.fn.removeClass=function(t){var e=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t,n,a=0,s=e.length;a<s;a++)void 0!==this.className&&(n=new RegExp("(^|\\s)"+e[a]+"($|\\s)","gmi"),t=this.className.replace(n," "),this.className=t.replace(/^\s+|\s+$/g,""))})},t.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},t.fn.replaceWith=function(e){"string"==typeof e&&(e=t(e));var n=[];return e.length>1&&(e=e.reverse()),this.each(function(t){var a,s=this.cloneNode(!0);if(n.push(s),this.parentNode)if(1===e.length)a=t>0?e[0].cloneNode(!0):e[0],this.parentNode.replaceChild(a,this);else{for(var i=0,r=e.length;i<r;i++)a=t>0?e[i].cloneNode(!0):e[i],this.parentNode.insertBefore(a,this.nextSibling);this.parentNode.removeChild(this)}}),t(n)},t.fn.siblings=function(){if(!this.length)return t([]);var e=[],n=this[0].parentNode.firstChild;do 1===n.nodeType&&n!==this[0]&&e.push(n),n=n.nextSibling;while(n);return t(e)};var f=function(t){var e,n="",a=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=f(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[a++];)n+=f(e);return n};return t.fn.text=function(){return f(this)},t.fn.val=function(e){var n;return void 0!==e?this.each(function(){if("SELECT"===this.tagName){var n,a,s,i=this.options,r=[],o=i.length;for(r[0]=e;o--;)a=i[o],(a.selected=t.inArray(a.value,r)>=0)&&(n=!0,s=o);n?this.selectedIndex=s:this.selectedIndex=-1}else this.value=e}):(n=this[0],"SELECT"===n.tagName?n.selectedIndex<0?"":n.options[n.selectedIndex].value:n.value)},t._dimension=function(t,e,n){var a;return void 0===n?(a=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t[0]["offset"+a]):(n="string"==typeof n?n:n+"px",t.each(function(){this.style[e]=n}))},t.fn.width=function(e){return t._dimension(this,"width",e)},t.fn.wrapInner=function(e){return this.each(function(){var n=this.innerHTML;this.innerHTML="",t(this).append(t(e).html(n))})},t.fn.bind=function(t,e,s){function i(t,n,a){var i;if(!t._namespace||t._namespace===n){t.data=e,t.namespace=t._namespace;var r=function(){return!0};t.isDefaultPrevented=function(){return!1};var o=t.preventDefault,l=function(){return o?function(){t.isDefaultPrevented=r,o.call(t)}:function(){t.isDefaultPrevented=r,t.returnValue=!1}};return t.target=a||t.target||t.srcElement,t.preventDefault=l(),t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},i=s.apply(this,[t].concat(t._args)),i===!1&&(t.preventDefault(),t.stopPropagation()),i}}"function"==typeof e&&(s=e,e=null);var r=t.split(" ");return this.each(function(){for(var t,e,o,l=this,c=0,h=r.length;c<h;c++){var u=r[c].split("."),d=u[0],f=u.length>0?u[1]:null;t=function(t){return l.ssEventTrigger&&(t._namespace=l.ssEventTrigger._namespace,t._args=l.ssEventTrigger._args,l.ssEventTrigger=null),i.call(l,t,f)},e=null,o=null,n(this,d),this.addEventListener(d,t,!1),a(this,d,{callfunc:e||t,isCustomEvent:!!e,customEventLoop:o,originalCallback:s,namespace:f})}})},t.fn.on=t.fn.bind,t.fn.unbind=function(t,e){var n=t?t.split(" "):[];return this.each(function(){if(this.shoestringData&&this.shoestringData.events)if(n.length)for(var t,a,r,o=0,l=n.length;o<l;o++)t=n[o].split("."),a=t[0],r=t.length>0?t[1]:null,a?s.call(this,a,r,e):i.call(this,r,e);else i.call(this)})},t.fn.off=t.fn.unbind,t.fn.one=function(e,n){var a=e.split(" ");return this.each(function(){for(var e,s={},i=t(this),r=0,o=a.length;r<o;r++)e=a[r],s[e]=function(e){var a=t(this);for(var i in s)a.unbind(i,s[i]);return n.apply(this,[e].concat(e._args))},i.bind(e,s[e])})},t.fn.triggerHandler=function(t,e){var n,a=t.split(" ")[0],s=this[0];if(o.createEvent&&s.shoestringData&&s.shoestringData.events&&s.shoestringData.events[a]){var i=s.shoestringData.events[a];for(var r in i)i.hasOwnProperty(r)&&(t=o.createEvent("Event"),t.initEvent(a,!0,!0),t._args=e,e.unshift(t),n=i[r].originalCallback.apply(t.target,e))}return n},t.fn.trigger=function(t,e){var n=t.split(" ");return this.each(function(){for(var t,a,s,i=0,r=n.length;i<r;i++){if(t=n[i].split("."),a=t[0],s=t.length>0?t[1]:null,"click"===a&&"INPUT"===this.tagName&&"checkbox"===this.type&&this.click)return this.click(),!1;if(o.createEvent){var l=o.createEvent("Event");l.initEvent(a,!0,!0),l._args=e,l._namespace=s,this.dispatchEvent(l)}}})},t}),function(t,e){"function"==typeof define&&define.amd?define(["shoestring"],function(n){return t.Tablesaw=e(n,t)}):"object"==typeof exports?module.exports=e(require("shoestring"),t):t.Tablesaw=e(shoestring,t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var n=e.document,a=/complete|loaded/.test(n.readyState);n.addEventListener("DOMContentLoaded",function(){a=!0});var s={i18n:{modeStack:"Stack",modeSwipe:"Swipe",modeToggle:"Toggle",modeSwitchColumnsAbbreviated:"Cols",modeSwitchColumns:"Columns",columnToggleButton:"Columns",columnToggleError:"No eligible columns.",sort:"Sort",swipePreviousColumn:"Previous column",swipeNextColumn:"Next column"},mustard:"head"in n&&(!e.blackberry||e.WebKitPoint)&&!e.operamini,$:t,_init:function(t){s.$(t||n).trigger("enhance.tablesaw")},init:function(t){a=a||/complete|loaded/.test(n.readyState),a?s._init(t):"addEventListener"in n&&n.addEventListener("DOMContentLoaded",function(){s._init(t)})}};return t(n).on("enhance.tablesaw",function(){"undefined"!=typeof TablesawConfig&&TablesawConfig.i18n&&(s.i18n=t.extend(s.i18n,TablesawConfig.i18n||{})),s.i18n.modes=[s.i18n.modeStack,s.i18n.modeSwipe,s.i18n.modeToggle]}),s.mustard&&t(n.documentElement).addClass("tablesaw-enhanced"),function(){var a="tablesaw",i={toolbar:"tablesaw-bar"},r={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},o="stack",l="table",c="[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]",h={};s.events=r;var u=function(e){if(!e)throw new Error("Tablesaw requires an element.");this.table=e,this.$table=t(e),this.$thead=this.$table.children().filter("thead").eq(0),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||o,this.$toolbar=null,this.attributes={subrow:"data-tablesaw-subrow",ignorerow:"data-tablesaw-ignorerow"},this.init()};u.prototype.init=function(){if(!this.$thead.length)throw new Error("tablesaw: a <thead> is required, but none was found.");if(!this.$thead.find("th").length)throw new Error("tablesaw: no header cells found. Are you using <th> inside of <thead>?");this.$table.attr("id")||this.$table.attr("id",a+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.data(a,this),this.$table.trigger(r.create,[this])},u.prototype.getConfig=function(e){var n=t.extend(h,e||{});return t.extend(n,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},u.prototype._getPrimaryHeaderRow=function(){return this._getHeaderRows().eq(0)},u.prototype._getHeaderRows=function(){return this.$thead.children().filter("tr").filter(function(){return!t(this).is("[data-tablesaw-ignorerow]")})},u.prototype._getRowIndex=function(t){return t.prevAll().length},u.prototype._getHeaderRowIndeces=function(){var e=this,n=[];return this._getHeaderRows().each(function(){n.push(e._getRowIndex(t(this)))}),n},u.prototype._getPrimaryHeaderCells=function(t){return(t||this._getPrimaryHeaderRow()).find("th")},u.prototype._$getCells=function(e){var n=this;return t(e).add(e.cells).filter(function(){var e=t(this),a=e.parent(),s=e.is("[colspan]");return!(a.is("["+n.attributes.subrow+"]")||a.is("["+n.attributes.ignorerow+"]")&&s)})},u.prototype._getVisibleColspan=function(){var e=0;return this._getPrimaryHeaderCells().each(function(){var n=t(this);"none"!==n.css("display")&&(e+=parseInt(n.attr("colspan"),10)||1)}),e},u.prototype.getColspanForCell=function(e){var n=this._getVisibleColspan(),a=0;return e.closest("tr").data("tablesaw-rowspanned")&&a++,e.siblings().each(function(){var e=t(this),n=parseInt(e.attr("colspan"),10)||1;"none"!==e.css("display")&&(a+=n)}),n-a},u.prototype.isCellInColumn=function(e,n){return t(e).add(e.cells).filter(function(){return this===n}).length},u.prototype.updateColspanCells=function(e,n,a){var s=this,i=s._getPrimaryHeaderRow();this.$table.find("[rowspan][data-tablesaw-priority]").each(function(){var e=t(this);if("persist"===e.attr("data-tablesaw-priority")){var n=e.closest("tr"),a=parseInt(e.attr("rowspan"),10);a>1&&(n=n.next(),n.data("tablesaw-rowspanned",!0),a--)}}),this.$table.find("[colspan],[data-tablesaw-maxcolspan]").filter(function(){return t(this).closest("tr")[0]!==i[0]}).each(function(){var i=t(this);if(void 0===a||s.isCellInColumn(n,this)){var r=s.getColspanForCell(i);e&&void 0!==a&&i[0===r?"addClass":"removeClass"](e);var o=parseInt(i.attr("data-tablesaw-maxcolspan"),10);o?r>o&&(r=o):i.attr("data-tablesaw-maxcolspan",i.attr("colspan")),i.attr("colspan",r)}})},u.prototype._findPrimaryHeadersForCell=function(t){for(var e=this._getPrimaryHeaderRow(),n=this._getRowIndex(e),a=[],s=0;s<this.headerMapping.length;s++)if(s!==n)for(var i=0;i<this.headerMapping[s].length;i++)this.headerMapping[s][i]===t&&a.push(this.headerMapping[n][i]);return a},u.prototype.getRows=function(){var e=this;return this.$table.find("tr").filter(function(){return t(this).closest("table").is(e.$table)})},u.prototype.getBodyRows=function(e){return(e?t(e):this.$tbody).children().filter("tr")},u.prototype.getHeaderCellIndex=function(t){for(var e=this.headerMapping[0],n=0;n<e.length;n++)if(e[n]===t)return n;return-1},u.prototype._initCells=function(){this.$table.find("[data-tablesaw-maxcolspan]").each(function(){var e=t(this);e.attr("colspan",e.attr("data-tablesaw-maxcolspan"))});var e=this.getRows(),n=[];e.each(function(t){n[t]=[]}),e.each(function(e){var a=0,s=t(this),i=s.children();i.each(function(){for(var t=parseInt(this.getAttribute("data-tablesaw-maxcolspan")||this.getAttribute("colspan"),10),s=parseInt(this.getAttribute("rowspan"),10);n[e][a];)a++;if(n[e][a]=this,t)for(var i=0;i<t-1;i++)a++,n[e][a]=this;if(s)for(var r=1;r<s;r++)n[e+r][a]=this;a++})});for(var a=this._getHeaderRowIndeces(),s=0;s<n[0].length;s++)for(var i=0,r=a.length;i<r;i++){var o,l=n[a[i]][s],c=a[i];for(l.cells||(l.cells=[]);c<n.length;)o=n[c][s],l!==o&&l.cells.push(o),c++}this.headerMapping=n},u.prototype.refresh=function(){this._initCells(),this.$table.trigger(r.refresh,[this])},u.prototype._getToolbarAnchor=function(){var t=this.$table.parent();return t.is(".tablesaw-overflow")?t:this.$table},u.prototype._getToolbar=function(t){return t||(t=this._getToolbarAnchor()),t.prev().filter("."+i.toolbar)},u.prototype.createToolbar=function(){var e=this._getToolbarAnchor(),n=this._getToolbar(e);n.length||(n=t("<div>").addClass(i.toolbar).insertBefore(e)),this.$toolbar=n,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},u.prototype.destroy=function(){this._getToolbar().each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var s=this.$table.attr("id");t(n).off("."+s),t(e).off("."+s),this.$table.trigger(r.destroy,[this]),this.$table.removeData(a)},t.fn[a]=function(){return this.each(function(){var e=t(this);e.data(a)||new u(this)})};var d=t(n);d.on("enhance.tablesaw",function(e){if(s.mustard){var n=t(e.target);n.parent().length&&(n=n.parent()),n.find(l).filter(c)[a]()}});var f,p=!1;d.on("scroll.tablesaw",function(){p=!0,e.clearTimeout(f),f=e.setTimeout(function(){p=!1},300)});var b;t(e).on("resize",function(){p||(e.clearTimeout(b),b=e.setTimeout(function(){d.trigger(r.resize)},150))}),s.Table=u}(),function(){var e={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},a={key:"tablesaw-stack"},i={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},r=function(e,n){this.tablesaw=n,this.$table=t(e),this.labelless=this.$table.is("["+i.labelless+"]"),this.hideempty=this.$table.is("["+i.hideempty+"]"),this.$table.data(a.key,this)};r.prototype.init=function(){if(this.$table.addClass(e.stackTable),!this.labelless){var a=this;this.$table.find("th, td").filter(function(){return!t(this).closest("thead").length}).filter(function(){return!(t(this).is("["+i.labelless+"]")||t(this).closest("tr").is("["+i.labelless+"]")||a.hideempty&&!t(this).html())}).each(function(){var s=t(n.createElement("b")).addClass(e.cellLabels),i=t(this);t(a.tablesaw._findPrimaryHeadersForCell(this)).each(function(e){var a=t(this.cloneNode(!0)),i=a.find(".tablesaw-sortable-btn");a.find(".tablesaw-sortable-arrow").remove();var r=a.find("[data-tablesaw-checkall]");if(r.closest("label").remove(),r.length)return void(s=t([]));e>0&&s.append(n.createTextNode(", "));for(var o,l=i.length?i[0]:a[0];o=l.firstChild;)s[0].appendChild(o)}),s.length&&!i.find("."+e.cellContentLabels).length&&i.wrapInner("<span class='"+e.cellContentLabels+"'></span>");var r=i.find("."+e.cellLabels);r.length?r.replaceWith(s):(i.prepend(n.createTextNode(" ")),i.prepend(s))})}},r.prototype.destroy=function(){this.$table.removeClass(e.stackTable),this.$table.find("."+e.cellLabels).remove(),this.$table.find("."+e.cellContentLabels).each(function(){t(this).replaceWith(t(this.childNodes))})},t(n).on(s.events.create,function(t,e){if("stack"===e.mode){var n=new r(e.table,e);n.init()}}).on(s.events.refresh,function(e,n){"stack"===n.mode&&t(n.table).data(a.key).init()}).on(s.events.destroy,function(e,n){"stack"===n.mode&&t(n.table).data(a.key).destroy()}),s.Stack=r}(),function(){var e="tablesawbtn",a={_create:function(){return t(this).each(function(){t(this).trigger("beforecreate."+e)[e]("_init").trigger("create."+e)})},_init:function(){var n=t(this),a=this.getElementsByTagName("select")[0];return a&&t(this).addClass("btn-select tablesaw-btn-select")[e]("_select",a),n},_select:function(e){var a=function(e,a){var s,i,r=t(a).find("option"),o=n.createElement("span"),l=!1;if(o.setAttribute("aria-hidden","true"),o.innerHTML="&#160;",r.each(function(){var t=this;t.selected&&(o.innerHTML=t.text)}),i=e.childNodes,r.length>0){for(var c=0,h=i.length;c<h;c++)s=i[c],s&&"SPAN"===s.nodeName.toUpperCase()&&(e.replaceChild(o,s),l=!0);l||e.insertBefore(o,e.firstChild)}};a(this,e),t(this).on("change refresh",function(){a(this,e)})}};t.fn[e]=function(n,a,s,i){return this.each(function(){return n&&"string"==typeof n?t.fn[e].prototype[n].call(this,a,s,i):t(this).data(e+"active")?t(this):(t(this).data(e+"active",!0),void t.fn[e].prototype._create.call(this))})},t.extend(t.fn[e].prototype,a)}(),function(){var a={key:"tablesaw-coltoggle"},i=function(e){this.$table=t(e),this.$table.length&&(this.tablesaw=this.$table.data("tablesaw"),this.attributes={btnTarget:"data-tablesaw-columntoggle-btn-target",set:"data-tablesaw-columntoggle-set"},this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-"},this.set=[],this.$headers=this.tablesaw._getPrimaryHeaderCells(),this.$table.data(a.key,this))};i.prototype.initSet=function(){var e=this.$table.attr(this.attributes.set);if(e){var n=this.$table[0];this.set=t("table["+this.attributes.set+"='"+e+"']").filter(function(){return this!==n}).get()}},i.prototype.init=function(){function i(t){var e=t.checked,n=p.getHeaderFromCheckbox(t),a=p.tablesaw._$getCells(n);a[e?"removeClass":"addClass"]("tablesaw-toggle-cellhidden"),a[e?"addClass":"removeClass"]("tablesaw-toggle-cellvisible"),p.updateColspanCells(n,e),p.$table.trigger("tablesawcolumns")}function r(e){e&&t(e.target).closest("."+p.classes.popup).length||(t(n).off("click."+l),h.removeClass("up").addClass("down"),f.removeClass("visible"))}function o(){f.addClass("visible"),h.removeClass("down").addClass("up"),t(n).off("click."+l,r),e.clearTimeout(w),w=e.setTimeout(function(){t(n).on("click."+l,r)},15)}if(this.$table.length){var l,c,h,u,d,f,p=this,b=this.tablesaw.getConfig({getColumnToggleLabelTemplate:function(t){return"<label><input type='checkbox' checked>"+t+"</label>"}});this.$table.addClass(this.classes.columnToggleTable),l=this.$table.attr("id"),c=l+"-popup",f=t("<div class='"+this.classes.columnBtnContain+"'></div>"),h=t("<a href='#"+c+"' class='btn tablesaw-btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+s.i18n.columnToggleButton+"</span></a>"),u=t("<div class='"+this.classes.popup+"' id='"+c+"'></div>"),d=t("<div class='tablesaw-btn-group'></div>"),this.$popup=u;var g=!1;this.$headers.each(function(){var e=t(this),n=e.attr("data-tablesaw-priority"),a=p.tablesaw._$getCells(this);n&&"persist"!==n&&(a.addClass(p.classes.priorityPrefix+n),t(b.getColumnToggleLabelTemplate(e.text())).appendTo(d).find('input[type="checkbox"]').data("tablesaw-header",this),g=!0)}),g||d.append("<label>"+s.i18n.columnToggleError+"</label>"),d.appendTo(u),d.find('input[type="checkbox"]').on("change",function(e){if(i(e.target),p.set.length){var n;t(p.$popup).find("input[type='checkbox']").each(function(t){if(this===e.target)return n=t,!1}),t(p.set).each(function(){var s=t(this).data(a.key).$popup.find("input[type='checkbox']").get(n);s&&(s.checked=e.target.checked,i(s))})}}),h.appendTo(f);var v=t(this.$table.attr(this.attributes.btnTarget));f.appendTo(v.length?v:this.tablesaw.$toolbar);var w;h.on("click.tablesaw",function(t){t.preventDefault(),f.is(".visible")?r():o()}),u.appendTo(f),this.$menu=d;var m=this.$table.closest(".tablesaw-overflow");if(m.css("-webkit-overflow-scrolling")){var C;m.on("scroll",function(){var n=t(this);e.clearTimeout(C),C=e.setTimeout(function(){n.css("-webkit-overflow-scrolling","auto"),e.setTimeout(function(){n.css("-webkit-overflow-scrolling","touch")},0)},100)})}t(e).on(s.events.resize+"."+l,function(){p.refreshToggle()}),this.initSet(),this.refreshToggle()}},i.prototype.getHeaderFromCheckbox=function(e){return t(e).data("tablesaw-header")},i.prototype.refreshToggle=function(){var t=this;this.$menu.find("input").each(function(){var e=t.getHeaderFromCheckbox(this);this.checked="table-cell"===t.tablesaw._$getCells(e).eq(0).css("display")}),this.updateColspanCells()},i.prototype.updateColspanCells=function(t,e){this.tablesaw.updateColspanCells("tablesaw-toggle-cellhidden",t,e)},i.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){var e=t(this);e.removeClass("tablesaw-toggle-cellhidden").removeClass("tablesaw-toggle-cellvisible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},t(n).on(s.events.create,function(t,e){if("columntoggle"===e.mode){var n=new i(e.table);n.init()}}),t(n).on(s.events.destroy,function(e,n){"columntoggle"===n.mode&&t(n.table).data(a.key).destroy()}),t(n).on(s.events.refresh,function(e,n){"columntoggle"===n.mode&&t(n.table).data(a.key).refreshToggle()}),s.ColumnToggle=i}(),function(){function e(e){var n=[];return t(e.childNodes).each(function(){var e=t(this);e.is("input, select")?n.push(e.val()):e.is(".tablesaw-cell-label")||n.push((e.text()||"").replace(/^\s+|\s+$/g,""))}),n.join("")}var a="tablesaw-sortable",i="table[data-"+a+"]",r="[data-"+a+"-switch]",o={sortCol:"data-tablesaw-sortable-col",defaultCol:"data-tablesaw-sortable-default-col",numericCol:"data-tablesaw-sortable-numeric",subRow:"data-tablesaw-subrow",ignoreRow:"data-tablesaw-ignorerow"},l={head:a+"-head",ascend:a+"-ascending",descend:a+"-descending",switcher:a+"-switch",tableToolbar:"tablesaw-bar-section",sortButton:a+"-btn"},c={_create:function(e){return t(this).each(function(){var n=t(this).data(a+"-init");return!n&&void t(this).data(a+"-init",!0).trigger("beforecreate."+a)[a]("_init",e).trigger("create."+a)})},_init:function(){function n(e){t.each(e,function(e,n){t(n).addClass(l.head)})}function i(e,n){t.each(e,function(e,a){var s=t("<button class='"+l.sortButton+"'/>");s.on("click",{col:a},n),t(a).wrapInner(s).find("button").append("<span class='tablesaw-sortable-arrow'>")})}function c(e){t.each(e,function(e,n){var a=t(n);a.removeAttr(o.defaultCol),a.removeClass(l.ascend),a.removeClass(l.descend)})}function h(e){if(!t(e.target).is("a[href]")){e.stopPropagation();var n=t(e.target).closest("["+o.sortCol+"]"),s=e.data.col,i=f.index(n[0]);c(n.closest("thead").find("th").filter(function(){return this!==n[0]})),n.is("."+l.descend)||!n.is("."+l.ascend)?(b[a]("sortBy",s,!0),i+="_asc"):(b[a]("sortBy",s),i+="_desc"),p&&p.find("select").val(i).trigger("refresh"),e.preventDefault()}}function u(e){t.each(e,function(e,n){var a=t(n);a.is("["+o.defaultCol+"]")&&(a.is("."+l.descend)||a.addClass(l.ascend))})}function d(n){p=t("<div>").addClass(l.switcher).addClass(l.tableToolbar);var i=["<label>"+s.i18n.sort+":"];i.push('<span class="btn tablesaw-btn"><select>'),n.each(function(n){var a=t(this),s=a.is("["+o.defaultCol+"]"),r=a.is("."+l.descend),c=a.is("["+o.numericCol+"]"),h=0,u=5;t(this.cells.slice(0,u)).each(function(){isNaN(parseInt(e(this),10))||h++});var d=h===u;c||a.attr(o.numericCol,d?"":"false"),i.push("<option"+(s&&!r?" selected":"")+' value="'+n+'_asc">'+a.text()+" "+(d?"&#x2191;":"(A-Z)")+"</option>"),i.push("<option"+(s&&r?" selected":"")+' value="'+n+'_desc">'+a.text()+" "+(d?"&#x2193;":"(Z-A)")+"</option>")}),i.push("</select></span></label>"),p.html(i.join(""));var r=g.$toolbar.children().eq(0);r.length?p.insertBefore(r):p.appendTo(g.$toolbar),p.find(".tablesaw-btn").tablesawbtn(),p.find("select").on("change",function(){var e=t(this).val().split("_"),s=n.eq(e[0]);c(s.siblings()),b[a]("sortBy",s.get(0),"asc"===e[1])})}var f,p,b=t(this),g=b.data("tablesaw");b.addClass(a),f=b.children().filter("thead").find("th["+o.sortCol+"]"),n(f),i(f,h),u(f),b.is(r)&&d(f)},sortRows:function(n,a,s,i,r){function l(n,a){var s=[];return t.each(n,function(n,i){for(var r=i.parentNode,l=t(r),c=[],h=l.next();h.is("["+o.subRow+"]");)c.push(h[0]),h=h.next();var u=r.parentNode;l.is("["+o.subRow+"]")||u===a&&s.push({element:i,cell:e(i),row:r,subrows:c.length?c:null,ignored:l.is("["+o.ignoreRow+"]")})}),s}function c(t,e){var n,a=/[^\-\+\d\.]/g;return n=t?function(t,n){return t.ignored||n.ignored?0:e?parseFloat(t.cell.replace(a,""))-parseFloat(n.cell.replace(a,"")):t.cell.toLowerCase()>n.cell.toLowerCase()?1:-1}:function(t,n){return t.ignored||n.ignored?0:e?parseFloat(n.cell.replace(a,""))-parseFloat(t.cell.replace(a,"")):t.cell.toLowerCase()<n.cell.toLowerCase()?1:-1}}function h(t){var e,n,a=[];for(e=0,n=t.length;e<n;e++)a.push(t[e].row),t[e].subrows&&a.push(t[e].subrows);return a}var u,d,f=l(i.cells,r),p=t(i).data("tablesaw-sort");return u=!(!p||"function"!=typeof p)&&p(s)||c(s,t(i).is("["+o.numericCol+"]")&&!t(i).is("["+o.numericCol+'="false"]')),d=f.sort(u),n=h(d)},makeColDefault:function(e,n){var a=t(e);a.attr(o.defaultCol,"true"),n?(a.removeClass(l.descend),a.addClass(l.ascend)):(a.removeClass(l.ascend),a.addClass(l.descend))},sortBy:function(e,n){var s,i=t(this),r=i.data("tablesaw");r.$tbody.each(function(){var o,l,c,h=this,u=t(this),d=r.getBodyRows(h),f=r.headerMapping[0];for(l=0,c=f.length;l<c;l++)if(f[l]===e){s=l;break}for(o=i[a]("sortRows",d,s,n,e,h),l=0,c=o.length;l<c;l++)u.append(o[l])}),i[a]("makeColDefault",e,n),i.trigger("tablesaw-sorted")}};t.fn[a]=function(e){var n,s=Array.prototype.slice.call(arguments,1);return e&&"string"==typeof e?(n=t.fn[a].prototype[e].apply(this[0],s),"undefined"!=typeof n?n:t(this)):(t(this).data(a+"-active")||(t(this).data(a+"-active",!0),t.fn[a].prototype._create.call(this,e)),t(this))},t.extend(t.fn[a].prototype,c),t(n).on(s.events.create,function(t,e){e.$table.is(i)&&e.$table[a]()})}(),function(){function a(a,o){function l(){o.css({width:"1px"}),o.find("."+i.hiddenCol).removeClass(i.hiddenCol),S=[],L=[],N.each(function(){var t=this.offsetWidth;S.push(t),d(this)||L.push(t);
}),o.css({width:""})}function c(t){$._$getCells(t).removeClass(i.hiddenCol)}function h(t){$._$getCells(t).addClass(i.hiddenCol)}function u(t){$._$getCells(t).addClass(i.persistCol)}function d(e){return t(e).is('[data-tablesaw-priority="persist"]')}function f(){o.removeClass(i.persistWidths),t("#"+M+"-persist").remove()}function p(){var e,n="#"+M+".tablesaw-swipe ",a=[],s=o.width(),r=s,l=[];if(N.each(function(t){var e;d(this)&&(e=this.offsetWidth,r-=e,e<.75*s&&(l.push(t+"-"+e),a.push(n+" ."+i.persistCol+":nth-child("+(t+1)+") { width: "+e+"px; }")))}),e=l.join("_"),a.length){o.addClass(i.persistWidths);var c=t("#"+M+"-persist");c.length&&c.data("tablesaw-hash")===e||(c.remove(),t("<style>"+a.join("\n")+"</style>").attr("id",M+"-persist").data("tablesaw-hash",e).appendTo(A))}return r}function b(){var e,n=[];return D.each(function(a){var s=t(this),r="none"===s.css("display")||s.is("."+i.hiddenCol);if(r||e){if(r&&e)return n[1]=a,!1}else e=!0,n[0]=a}),n}function g(){var t=b();return[t[1]-1,t[0]-1]}function v(t){return t[1]>-1&&t[1]<D.length}function w(){var t=o.attr("data-tablesaw-swipe-media");return!t||"matchMedia"in e&&e.matchMedia(t).matches}function m(){if(w()){var e=o.parent().width(),n=[],a=0,s=[],r=N.length;N.each(function(i){var o=t(this),l=o.is('[data-tablesaw-priority="persist"]');n.push(l),a+=S[i],s.push(a),(l||a>e)&&r--});var l=0===r;N.each(function(t){s[t]>e&&h(this)});var d=!0;N.each(function(t){return n[t]?(u(this),void(d&&($._$getCells(this).css("width",s[t]+"px"),d=!1))):void((s[t]<=e||l)&&(l=!1,c(this),$.updateColspanCells(i.hiddenCol,this,!0)))}),f(),o.trigger("tablesawcolumns")}}function C(){T(!0)}function y(){T(!1)}function T(t){var e;if(e=t?b():g(),v(e)){isNaN(e[0])&&(t?e[0]=0:e[0]=D.length-1);var n,a=p(),s=e[0],r=e[1],l=D.get(s),u=!1,d=!1;h(l),$.updateColspanCells(i.hiddenCol,l,!0);for(var f=s+(t?1:-1);f>=0&&f<L.length;){a-=L[f];var w=D.eq(f);w.is(".tablesaw-swipe-cellhidden")?a>0&&(n=w.get(0),u=!0,d=!0,c(n),$.updateColspanCells(i.hiddenCol,n,!1)):d=!0,t?f++:f--}d?!u&&v(t?b():g())&&T(t):(n=D.get(r),c(n),$.updateColspanCells(i.hiddenCol,n,!1)),o.trigger("tablesawcolumns")}}function k(t,e){return(t.touches||t.originalEvent.touches)[0][e]}var $=o.data("tablesaw"),x=t("<div class='tablesaw-advance'></div>"),_=t("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro left'>"+s.i18n.swipePreviousColumn+"</a>").appendTo(x),E=t("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro right'>"+s.i18n.swipeNextColumn+"</a>").appendTo(x),N=a._getPrimaryHeaderCells(),D=N.not('[data-tablesaw-priority="persist"]'),S=[],L=[],A=t(n.head||"head"),M=o.attr("id");if(!N.length)throw new Error("tablesaw swipe: no header cells found.");o.addClass("tablesaw-swipe"),l(),x.appendTo($.$toolbar),M||(M="tableswipe-"+Math.round(1e4*Math.random()),o.attr("id",M)),_.add(E).on("click",function(e){t(e.target).closest(E).length?C():y(),e.preventDefault()}),o.is("["+r.disableTouchEvents+"]")||o.on("touchstart.swipetoggle",function(n){var i,r,o=k(n,"pageX"),l=k(n,"pageY"),c=e.pageYOffset;t(e).off(s.events.resize,m),t(this).on("touchmove.swipetoggle",function(t){i=k(t,"pageX"),r=k(t,"pageY")}).on("touchend.swipetoggle",function(){var n=a.getConfig({swipeHorizontalThreshold:30,swipeVerticalThreshold:30}),h=n.swipe?n.swipe.verticalThreshold:n.swipeVerticalThreshold,u=n.swipe?n.swipe.horizontalThreshold:n.swipeHorizontalThreshold,d=Math.abs(e.pageYOffset-c)>=h,f=Math.abs(r-l)>=h;f||d||(i-o<-1*u&&C(),i-o>u&&y()),e.setTimeout(function(){t(e).on(s.events.resize,m)},300),t(this).off("touchmove.swipetoggle touchend.swipetoggle")})}),o.on("tablesawcolumns.swipetoggle",function(){var t=v(g()),e=v(b());_[t?"removeClass":"addClass"](i.hideBtn),E[e?"removeClass":"addClass"](i.hideBtn),$.$toolbar[t||e?"removeClass":"addClass"](i.allColumnsVisible)}).on("tablesawnext.swipetoggle",function(){C()}).on("tablesawprev.swipetoggle",function(){y()}).on(s.events.destroy+".swipetoggle",function(){var n=t(this);n.removeClass("tablesaw-swipe"),$.$toolbar.find(".tablesaw-advance").remove(),t(e).off(s.events.resize,m),n.off(".swipetoggle")}).on(s.events.refresh,function(){f(),l(),m()}),m(),t(e).on(s.events.resize,m)}var i={hideBtn:"disabled",persistWidths:"tablesaw-fix-persist",hiddenCol:"tablesaw-swipe-cellhidden",persistCol:"tablesaw-swipe-cellpersist",allColumnsVisible:"tablesaw-all-cols-visible"},r={disableTouchEvents:"data-tablesaw-no-touch",ignorerow:"data-tablesaw-ignorerow",subrow:"data-tablesaw-subrow"};t(n).on(s.events.create,function(t,e){"swipe"===e.mode&&a(e,e.$table)})}(),function(){function a(n){function a(){if(!i.show(n[0]))return void o.css("display","none");o.css("display","block");var e=l.find("li").removeClass(c);n.find("thead th").each(function(n){"none"===t(this).css("display")&&e.eq(n).addClass(c)})}var r=n.data("tablesaw"),o=t('<div class="tablesaw-advance minimap">'),l=t('<ul class="tablesaw-advance-dots">').appendTo(o),c="tablesaw-advance-dots-hide",h=n.data("tablesaw")._getPrimaryHeaderCells();h.each(function(){l.append("<li><i></i></li>")}),o.appendTo(r.$toolbar),a(),t(e).on(s.events.resize,a),n.on("tablesawcolumns.minimap",function(){a()}).on(s.events.destroy+".minimap",function(){var n=t(this);r.$toolbar.find(".tablesaw-advance").remove(),t(e).off(s.events.resize,a),n.off(".minimap")})}var i={attr:{init:"data-tablesaw-minimap"},show:function(t){var n=t.getAttribute(i.attr.init);return""===n||!!(n&&"matchMedia"in e)&&e.matchMedia(n).matches}};t(n).on(s.events.create,function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+i.attr.init+"]")||a(e.$table)}),s.MiniMap=i}(),function(){var e={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-bar-section"},modes:["stack","swipe","columntoggle"],init:function(n){var a,i=t(n),r=i.data("tablesaw"),o=i.attr(e.attributes.excludeMode),l=r.$toolbar,c=t("<div>").addClass(e.classes.main+" "+e.classes.toolbar),h=['<label><span class="abbreviated">'+s.i18n.modeSwitchColumnsAbbreviated+'</span><span class="longform">'+s.i18n.modeSwitchColumns+"</span>:"],u=i.attr("data-tablesaw-mode");h.push('<span class="btn tablesaw-btn"><select>');for(var d=0,f=e.modes.length;d<f;d++)o&&o.toLowerCase()===e.modes[d]||(a=u===e.modes[d],h.push("<option"+(a?" selected":"")+' value="'+e.modes[d]+'">'+s.i18n.modes[d]+"</option>"));h.push("</select></span></label>"),c.html(h.join(""));var p=l.find(".tablesaw-advance").eq(0);p.length?c.insertBefore(p):c.appendTo(l),c.find(".tablesaw-btn").tablesawbtn(),c.find("select").on("change",function(a){return e.onModeChange.call(n,a,t(this).val())})},onModeChange:function(n,a){var s=t(this),i=s.data("tablesaw"),r=i.$toolbar.find("."+e.classes.main);r.remove(),i.destroy(),s.attr("data-tablesaw-mode",a),s.tablesaw()}};t(n).on(s.events.create,function(t,n){n.$table.is(e.selectors.init)&&e.init(n.table)})}(),function(){function e(t){this.tablesaw=t,this.$table=t.$table,this.attr="data-tablesaw-checkall",this.checkAllSelector="["+this.attr+"]",this.forceCheckedSelector="["+this.attr+"-checked]",this.forceUncheckedSelector="["+this.attr+"-unchecked]",this.checkboxSelector='input[type="checkbox"]',this.$triggers=null,this.$checkboxes=null,this.$table.data(a)||(this.$table.data(a,this),this.init())}var a="tablesawCheckAll";e.prototype._filterCells=function(e){return e.filter(function(){return!t(this).closest("tr").is("[data-tablesaw-subrow],[data-tablesaw-ignorerow]")}).find(this.checkboxSelector).not(this.checkAllSelector)},e.prototype.getCheckboxesForButton=function(e){return this._filterCells(t(t(e).attr(this.attr)))},e.prototype.getCheckboxesForCheckbox=function(e){return this._filterCells(t(t(e).closest("th")[0].cells))},e.prototype.init=function(){var e=this;this.$table.find(this.checkAllSelector).each(function(){var n=t(this);n.is(e.checkboxSelector)?e.addCheckboxEvents(this):e.addButtonEvents(this)})},e.prototype.addButtonEvents=function(e){var n=this;t(e).on("click",function(e){e.preventDefault();var s=n.getCheckboxesForButton(this),i=!0;s.each(function(){this.checked||(i=!1)});var r;r=!!t(this).is(n.forceCheckedSelector)||!t(this).is(n.forceUncheckedSelector)&&!i,s.each(function(){this.checked=r,t(this).trigger("change."+a)})})},e.prototype.addCheckboxEvents=function(e){var n=this;t(e).on("change",function(){var t=this.checked;n.getCheckboxesForCheckbox(this).each(function(){this.checked=t})});var s=n.getCheckboxesForCheckbox(e);s.on("change."+a,function(){var t=0;s.each(function(){this.checked&&t++});var n=t===s.length;e.checked=n,e.indeterminate=0!==t&&!n})},t(n).on(s.events.create,function(t,n){new e(n)}),s.CheckAll=e}(),s});